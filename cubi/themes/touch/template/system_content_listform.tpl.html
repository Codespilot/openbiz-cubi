<form id='{$form.name}' name='{$form.name}'>
<h2>{$form.title}</h2> 
<div style="height:20px; display:block"> </div>
{if $actionPanel or $searchPanel }	
<div data-role="collapsible">
<h3>Actions</h3>
<div data-role="controlgroup" data-type="horizontal">
    {foreach item=elem from=$actionPanel}
        {$elem.element}
    {/foreach}
</div>
</div>
<div data-role="collapsible">
    <h3>Search</h3>
    {foreach item=elem from=$searchPanel}
        {if $elem.label} {$elem.label} {/if} {$elem.element}
    {/foreach}
</div>
{/if}

<div style="height:20px; display:block"> </div>

<!-- data list start --> 
<ul data-role="listview" data-inset="false">
	{assign var=row_counter value=0}
	{foreach item=row from=$dataPanel.data}
	<li id="{$form.name}-{$dataPanel.ids[$row_counter]}">
    <!-- find the fld_listlink element and wrap all element in the LinkList <a> ... </a> ---> 
        {if $row.fld_listlink}{$row.fld_listlink|replace:'</a>':''}{/if}
		{foreach key=name item=cell key=cell_name from=$row}
            {if $cell_name != 'fld_listlink'}
			{$dataPanel.elems[$cell_name].label} : {$cell}<br/>
            {/if}
		{/foreach}
        {if $row.fld_listlink}</a>{/if}
	</li>
	{/foreach}
</ul>

<div style="height:20px; display:block"> </div>
<div class="ui-bar ui-btn-corner-all" style="display:block; border:1px solid gray">
    {foreach item=elem from=$navPanel}
        {if $elem.label} <label style="width:68px;">{$elem.label}</label>{/if}
    	{$elem.element}
    {/foreach}
</div>
</form>