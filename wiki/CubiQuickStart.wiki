#labels Featured,Phase-Design
= Cubi Quick Start =

After Cubi is installed successfully, user can login Cubi and browse Cubi screens. This chapter will guide readers to build a simple Cubi module and add it into the Cubi navigation system.


== Create a Cubi Module ==

Assume we will build a module called “document”. This document module can be used in application like CRM or CMS.

First let’s make a database table “document”. The create table SQL is listed below.

{{{
CREATE TABLE `document` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(64) NOT NULL,
  `description` varchar(255) DEFAULT NULL,
  `address` varchar(255) DEFAULT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `fax` varchar(20) DEFAULT NULL,
  `status` int(2) DEFAULT NULL,
  `create_by` int(11) DEFAULT '1',
  `create_time` datetime DEFAULT NULL,
  `update_by` int(11) DEFAULT '1',
  `update_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM AUTO_INCREMENT=1 DEFAULT CHARSET=utf8
}}}

Launch a database GUI or command line client, locate database that was created during Cubi installation wizard. Say the cubi database name is “cubi”. Run the document create table statement under “cubi” database.

== Generate Metadata ==

A Cubi module can be created manually or with a command line tool called “gen_meta”. In this chapter, we will use gen_meta tool which is a command line metadata and module generator. This tool allows user to create a new module in one click. It accomplishes the all manual steps in one shot.

First, launch a console - a DOS window or a Linux/Unix console. Say the cCubi is installed under /cubi/ folder. Change director to /cubi/bin/tools/. Then type in the following command.
# php gen_meta.php Default document
Where “Default” is the first database name defined in /cubi/Config.xml, “document” is the table name.

Following the steps prompted by “gen_meta”, always press “enter” to make choice suggested by the tool.

{{{
---------------------------------------
Please select metadata naming:
1. module path: \document, object name: Document
S. specify a custom module path and module name
Please select: [1/s] (1) :

Access control options:
1. Access and Manage (default)
2. Access, Create, Update and Delete
3. No access control
Please select access control type [1/2/3] (1) :

---------------------------------------
Target dir: C:\xampp\htdocs\cubidev\cubi\modules\document
Metadata file to create:
  do/DocumentDO.xml
  form/Document...Form.xml
  view/DocumentView.xml
Do you want to continue? [y/n] (y) :
---------------------------------------
Do you want to generate data Object? [y/n] (y) :
Generate Data Object metadata file ...
Start generate dataobject DocumentDO.
Create directory C:\xampp\htdocs\cubidev\cubi\modules/document/do
        /document/do/DocumentDO.xml is generated.
---------------------------------------
Do you want to generate form Object? [y/n] (y) :
Generate Form Object metadata files ...
Start generate form object DocumentListForm.
Create directory C:\xampp\htdocs\cubidev\cubi\modules/document/form
        /document/form/DocumentListForm.xml is generated.

Start generate form object DocumentNewForm.
        /document/form/DocumentNewForm.xml is generated.

Start generate form object DocumentEditForm.
        /document/form/DocumentEditForm.xml is generated.

Start generate form object DocumentDetailForm.
        /document/form/DocumentDetailForm.xml is generated.

Start generate form object DocumentCopyForm.
        /document/form/DocumentCopyForm.xml is generated.

---------------------------------------
Do you want to generate view Object? [y/n] (y) :
Generate view Object metadata files ...
Start generate form object DocumentListView.
Create directory C:\xampp\htdocs\cubidev\cubi\modules/document/view
        /document/view/DocumentListView.xml is generated.
---------------------------------------
Do you want to override mod.xml? [y/n] (y) :
Generate mod.xml ...
Start generate mod.xml.
        /document/mod.xml is generated.
}}}